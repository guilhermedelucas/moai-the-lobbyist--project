import{s as u,a as d}from"../chunks/index.Cjxhb_0V.js";import{s as $,b as h,u as b,g as w,d as L,c as S,o as y}from"../chunks/scheduler.CMzz91YS.js";import{S as v,i as C,m as j,n as z}from"../chunks/index.D5Dk9RZN.js";import{g as c}from"../chunks/entry.D5L24pTX.js";import{b as p}from"../chunks/paths.C2Vp7blt.js";import{p as I}from"../chunks/stores.BDlEjI4Y.js";const M=!0,O=async({url:o})=>{const{pathname:a}=o,n=`${a.match(/\w+?(?=\/|$)/)||""}`,t=a.replace(new RegExp(`^/${n||"pt"}`),"");return await u(n),await d(t),{route:t,lang:n}},F=Object.freeze(Object.defineProperty({__proto__:null,load:O,prerender:M},Symbol.toStringTag,{value:"Module"}));function P(o){let a;const n=o[1].default,t=h(n,o,o[0],null);return{c(){t&&t.c()},l(e){t&&t.l(e)},m(e,l){t&&t.m(e,l),a=!0},p(e,[l]){t&&t.p&&(!a||l&1)&&b(t,n,e,e[0],a?L(n,e[0],l,null):w(e[0]),null)},i(e){a||(j(t,e),a=!0)},o(e){z(t,e),a=!1},d(e){t&&t.d(e)}}}function R(o,a,n){let t;S(o,I,s=>n(2,t=s));let{$$slots:e={},$$scope:l}=a;return y(async()=>{const s=["en","pt","zh"],i=window.location.pathname;if(i==="/"){let r=(localStorage.getItem("preferred-lang")||navigator.language||"en").split("-")[0];s.includes(r)||(r="pt"),c(`${p}/${r}`);return}const g=i.split("/").filter(Boolean)[0];if(!s.includes(g)){let r=(localStorage.getItem("preferred-lang")||navigator.language||"pt").split("-")[0];s.includes(r)||(r="pt");const _=`${p}/${r}`;c(_)}const f=t.params.lang||"pt";await u(f)}),o.$$set=s=>{"$$scope"in s&&n(0,l=s.$$scope)},[l,e]}class G extends v{constructor(a){super(),C(this,a,R,P,$,{})}}export{G as component,F as universal};
